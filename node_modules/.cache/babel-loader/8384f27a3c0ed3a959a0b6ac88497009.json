{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\src\\\\@fuse\\\\components\\\\FuseNavigation\\\\horizontal\\\\FuseNavHorizontalGroup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { Grow, Paper, Icon, IconButton, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { FuseUtils } from '@fuse';\nimport { useDebounce } from '@fuse/hooks';\nimport { withRouter } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { Manager, Reference, Popper } from 'react-popper';\nimport * as ReactDOM from 'react-dom';\nimport FuseNavHorizontalCollapse from './FuseNavHorizontalCollapse';\nimport FuseNavHorizontalItem from './FuseNavHorizontalItem';\nimport FuseNavHorizontalLink from './FuseNavHorizontalLink';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      color: theme.palette.text.primary,\n      '&.active, &.active:hover, &.active:focus': {\n        backgroundColor: theme.palette.secondary.main + '!important',\n        color: theme.palette.secondary.contrastText + '!important',\n        '& .list-item-text-primary': {\n          color: 'inherit'\n        },\n        '& .list-item-icon': {\n          color: 'inherit'\n        }\n      },\n      '& .list-item-text': {\n        padding: '0 0 0 16px'\n      },\n      '&.level-0': {\n        height: 48,\n        borderRadius: 4,\n        '&:hover': {\n          background: 'transparent'\n        }\n      },\n      '&.dense': {\n        padding: '8px 12px 8px 12px',\n        minHeight: 40,\n        '&.level-0': {\n          height: 44\n        },\n        '& .list-item-text': {\n          padding: '0 0 0 8px'\n        }\n      }\n    },\n    children: {},\n    popper: {\n      zIndex: 999\n    },\n    popperClose: {\n      pointerEvents: 'none'\n    }\n  };\n});\n\nfunction FuseNavHorizontalGroup(props) {\n  var userRole = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user.role;\n  });\n  var classes = useStyles(props);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var item = props.item,\n      nestedLevel = props.nestedLevel,\n      dense = props.dense;\n  var handleToggle = useDebounce(function (open) {\n    setOpened(open);\n  }, 150);\n\n  if (!FuseUtils.hasPermission(item.auth, userRole)) {\n    return null;\n  }\n\n  function isUrlInChildren(parent, url) {\n    if (!parent.children) {\n      return false;\n    }\n\n    for (var i = 0; i < parent.children.length; i++) {\n      if (parent.children[i].children) {\n        if (isUrlInChildren(parent.children[i], url)) {\n          return true;\n        }\n      }\n\n      if (parent.children[i].url === url || url.includes(parent.children[i].url)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  return React.createElement(Manager, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Reference, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, function (_ref2) {\n    var ref = _ref2.ref;\n    return React.createElement(\"div\", {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(ListItem, {\n      button: true,\n      className: clsx(\"list-item \", classes.root, \"relative\", \"level-\" + nestedLevel, dense && \"dense\", isUrlInChildren(item, props.location.pathname) && \"active\"),\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      \"aria-owns\": opened ? 'menu-list-grow' : null,\n      \"aria-haspopup\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, item.icon && React.createElement(Icon, {\n      color: \"action\",\n      className: \"list-item-icon text-16 flex-shrink-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, item.icon), React.createElement(ListItemText, {\n      className: \"list-item-text\",\n      primary: item.title,\n      classes: {\n        primary: 'text-14'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), nestedLevel > 0 && React.createElement(IconButton, {\n      disableRipple: true,\n      className: \"w-16 h-16 ml-4 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"text-16 arrow-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"keyboard_arrow_right\"))));\n  }), ReactDOM.createPortal(React.createElement(Popper, {\n    placement: nestedLevel === 0 ? \"bottom-start\" : \"right\",\n    eventsEnabled: opened,\n    positionFixed: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, function (_ref3) {\n    var ref = _ref3.ref,\n        style = _ref3.style,\n        placement = _ref3.placement,\n        arrowProps = _ref3.arrowProps;\n    return opened && React.createElement(\"div\", {\n      ref: ref,\n      style: _objectSpread({}, style, {\n        zIndex: 999 + nestedLevel\n      }),\n      \"data-placement\": placement,\n      className: clsx(classes.popper, _defineProperty({}, classes.popperClose, !opened)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Grow, {\n      in: opened,\n      id: \"menu-list-grow\",\n      style: {\n        transformOrigin: '0 0 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, item.children && React.createElement(\"ul\", {\n      className: clsx(classes.children, \"pl-0\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, item.children.map(function (item) {\n      return React.createElement(React.Fragment, {\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, item.type === 'group' && React.createElement(NavHorizontalGroup, {\n        item: item,\n        nestedLevel: nestedLevel,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), item.type === 'collapse' && React.createElement(FuseNavHorizontalCollapse, {\n        item: item,\n        nestedLevel: nestedLevel,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), item.type === 'item' && React.createElement(FuseNavHorizontalItem, {\n        item: item,\n        nestedLevel: nestedLevel,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), item.type === 'link' && React.createElement(FuseNavHorizontalLink, {\n        item: item,\n        nestedLevel: nestedLevel,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }));\n    })))));\n  }), document.querySelector('#root')));\n}\n\nFuseNavHorizontalGroup.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    children: PropTypes.array\n  })\n};\nFuseNavHorizontalGroup.defaultProps = {};\nvar NavHorizontalGroup = withRouter(React.memo(FuseNavHorizontalGroup));\nexport default NavHorizontalGroup;","map":{"version":3,"sources":["C:\\Users\\Roan\\Documents\\GitHub\\OnTimeReactFrontEnd\\src\\@fuse\\components\\FuseNavigation\\horizontal\\FuseNavHorizontalGroup.js"],"names":["React","useState","Grow","Paper","Icon","IconButton","ListItem","ListItemText","makeStyles","FuseUtils","useDebounce","withRouter","clsx","PropTypes","useSelector","Manager","Reference","Popper","ReactDOM","FuseNavHorizontalCollapse","FuseNavHorizontalItem","FuseNavHorizontalLink","useStyles","theme","root","color","palette","text","primary","backgroundColor","secondary","main","contrastText","padding","height","borderRadius","background","minHeight","children","popper","zIndex","popperClose","pointerEvents","FuseNavHorizontalGroup","props","userRole","auth","user","role","classes","opened","setOpened","item","nestedLevel","dense","handleToggle","open","hasPermission","isUrlInChildren","parent","url","i","length","includes","ref","location","pathname","icon","title","createPortal","style","placement","arrowProps","transformOrigin","map","id","type","document","querySelector","propTypes","shape","string","isRequired","array","defaultProps","NavHorizontalGroup","memo"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {Grow, Paper, Icon, IconButton, ListItem, ListItemText} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/styles';\r\nimport {FuseUtils} from '@fuse';\r\nimport {useDebounce} from '@fuse/hooks';\r\nimport {withRouter} from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport {useSelector} from 'react-redux';\r\nimport {Manager, Reference, Popper} from 'react-popper';\r\nimport * as ReactDOM from 'react-dom';\r\nimport FuseNavHorizontalCollapse from './FuseNavHorizontalCollapse';\r\nimport FuseNavHorizontalItem from './FuseNavHorizontalItem';\r\nimport FuseNavHorizontalLink from './FuseNavHorizontalLink';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root       : {\r\n        color                                     : theme.palette.text.primary,\r\n        '&.active, &.active:hover, &.active:focus': {\r\n            backgroundColor: theme.palette.secondary.main + '!important',\r\n            color          : theme.palette.secondary.contrastText + '!important',\r\n            '& .list-item-text-primary': {\r\n                color: 'inherit'\r\n            },\r\n            '& .list-item-icon'        : {\r\n                color: 'inherit'\r\n            }\r\n        },\r\n        '& .list-item-text'                       : {\r\n            padding: '0 0 0 16px'\r\n        },\r\n        '&.level-0'                               : {\r\n            height      : 48,\r\n            borderRadius: 4,\r\n            '&:hover'   : {\r\n                background: 'transparent'\r\n            },\r\n        },\r\n        '&.dense'                                 : {\r\n            padding            : '8px 12px 8px 12px',\r\n            minHeight          : 40,\r\n            '&.level-0'        : {\r\n                height: 44\r\n            },\r\n            '& .list-item-text': {\r\n                padding: '0 0 0 8px'\r\n            }\r\n        }\r\n    },\r\n    children   : {},\r\n    popper     : {\r\n        zIndex: 999\r\n    },\r\n    popperClose: {\r\n        pointerEvents: 'none'\r\n    }\r\n}));\r\n\r\nfunction FuseNavHorizontalGroup(props)\r\n{\r\n    const userRole = useSelector(({auth}) => auth.user.role);\r\n\r\n    const classes = useStyles(props);\r\n    const [opened, setOpened] = useState(false);\r\n    const {item, nestedLevel, dense} = props;\r\n\r\n    const handleToggle = useDebounce((open) => {\r\n        setOpened(open);\r\n    }, 150);\r\n\r\n    if ( !FuseUtils.hasPermission(item.auth, userRole) )\r\n    {\r\n        return null;\r\n    }\r\n\r\n    function isUrlInChildren(parent, url)\r\n    {\r\n        if ( !parent.children )\r\n        {\r\n            return false;\r\n        }\r\n\r\n        for ( let i = 0; i < parent.children.length; i++ )\r\n        {\r\n            if ( parent.children[i].children )\r\n            {\r\n                if ( isUrlInChildren(parent.children[i], url) )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if ( parent.children[i].url === url || url.includes(parent.children[i].url) )\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    return (\r\n        <Manager>\r\n            <Reference>\r\n                {({ref}) => (\r\n                    <div ref={ref}>\r\n                        <ListItem\r\n                            button\r\n                            className={clsx(\"list-item \", classes.root, \"relative\", \"level-\" + nestedLevel, dense && \"dense\", isUrlInChildren(item, props.location.pathname) && \"active\")}\r\n                            onMouseEnter={() => handleToggle(true)}\r\n                            onMouseLeave={() => handleToggle(false)}\r\n                            aria-owns={opened ? 'menu-list-grow' : null}\r\n                            aria-haspopup=\"true\"\r\n                        >\r\n                            {item.icon && (\r\n                                <Icon color=\"action\" className=\"list-item-icon text-16 flex-shrink-0\">{item.icon}</Icon>\r\n                            )}\r\n                            <ListItemText className=\"list-item-text\" primary={item.title} classes={{primary: 'text-14'}}/>\r\n                            {nestedLevel > 0 && (\r\n                                <IconButton disableRipple className=\"w-16 h-16 ml-4 p-0\">\r\n                                    <Icon className=\"text-16 arrow-icon\">keyboard_arrow_right</Icon>\r\n                                </IconButton>\r\n                            )}\r\n                        </ListItem>\r\n                    </div>\r\n                )}\r\n            </Reference>\r\n            {ReactDOM.createPortal(\r\n                <Popper\r\n                    placement={nestedLevel === 0 ? \"bottom-start\" : \"right\"}\r\n                    eventsEnabled={opened}\r\n                    positionFixed\r\n                >\r\n                    {({ref, style, placement, arrowProps}) => (\r\n                        opened && (\r\n                            <div\r\n                                ref={ref}\r\n                                style={{\r\n                                    ...style,\r\n                                    zIndex: 999 + nestedLevel\r\n                                }}\r\n                                data-placement={placement}\r\n                                className={clsx(classes.popper, {[classes.popperClose]: !opened})}\r\n                            >\r\n                                <Grow in={opened} id=\"menu-list-grow\" style={{transformOrigin: '0 0 0'}}>\r\n                                    <Paper\r\n                                        onMouseEnter={() => handleToggle(true)}\r\n                                        onMouseLeave={() => handleToggle(false)}\r\n                                    >\r\n                                        {item.children && (\r\n                                            <ul className={clsx(classes.children, \"pl-0\")}>\r\n                                                {\r\n                                                    item.children.map((item) => (\r\n                                                        <React.Fragment key={item.id}>\r\n\r\n                                                            {item.type === 'group' && (\r\n                                                                <NavHorizontalGroup item={item} nestedLevel={nestedLevel} dense={dense}/>\r\n                                                            )}\r\n\r\n                                                            {item.type === 'collapse' && (\r\n                                                                <FuseNavHorizontalCollapse item={item} nestedLevel={nestedLevel} dense={dense}/>\r\n                                                            )}\r\n\r\n                                                            {item.type === 'item' && (\r\n                                                                <FuseNavHorizontalItem item={item} nestedLevel={nestedLevel} dense={dense}/>\r\n                                                            )}\r\n\r\n                                                            {item.type === 'link' && (\r\n                                                                <FuseNavHorizontalLink item={item} nestedLevel={nestedLevel} dense={dense}/>\r\n                                                            )}\r\n                                                        </React.Fragment>\r\n                                                    ))\r\n                                                }\r\n                                            </ul>\r\n                                        )}\r\n                                    </Paper>\r\n                                </Grow>\r\n                            </div>\r\n                        )\r\n                    )}\r\n                </Popper>,\r\n                document.querySelector('#root')\r\n            )}\r\n        </Manager>\r\n    );\r\n}\r\n\r\nFuseNavHorizontalGroup.propTypes = {\r\n    item: PropTypes.shape(\r\n        {\r\n            id      : PropTypes.string.isRequired,\r\n            title   : PropTypes.string,\r\n            children: PropTypes.array\r\n        })\r\n};\r\n\r\nFuseNavHorizontalGroup.defaultProps = {};\r\n\r\nconst NavHorizontalGroup = withRouter(React.memo(FuseNavHorizontalGroup));\r\n\r\nexport default NavHorizontalGroup;\r\n"]},"metadata":{},"sourceType":"module"}