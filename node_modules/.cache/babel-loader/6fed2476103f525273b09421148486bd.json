{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport * as colors from '@material-ui/core/colors';\nimport _ from '@lodash';\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.events = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"_getEventListByName\",\n    value: function _getEventListByName(eventName) {\n      if (typeof this.events[eventName] === 'undefined') {\n        this.events[eventName] = new Set();\n      }\n\n      return this.events[eventName];\n    }\n  }, {\n    key: \"on\",\n    value: function on(eventName, fn) {\n      this._getEventListByName(eventName).add(fn);\n    }\n  }, {\n    key: \"once\",\n    value: function once(eventName, fn) {\n      var self = this;\n\n      var onceFn = function onceFn() {\n        self.removeListener(eventName, onceFn);\n\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        fn.apply(self, args);\n      };\n\n      this.on(eventName, onceFn);\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(eventName) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      this._getEventListByName(eventName).forEach(function (fn) {\n        fn.apply(this, args);\n      }.bind(this));\n    }\n  }, {\n    key: \"removeListener\",\n    value: function removeListener(eventName, fn) {\n      this._getEventListByName(eventName).delete(fn);\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nvar FuseUtils =\n/*#__PURE__*/\nfunction () {\n  function FuseUtils() {\n    _classCallCheck(this, FuseUtils);\n  }\n\n  _createClass(FuseUtils, null, [{\n    key: \"filterArrayByString\",\n    value: function filterArrayByString(mainArr, searchText) {\n      var _this = this;\n\n      if (searchText === '') {\n        return mainArr;\n      }\n\n      searchText = searchText.toLowerCase();\n      return mainArr.filter(function (itemObj) {\n        return _this.searchInObj(itemObj, searchText);\n      });\n    }\n  }, {\n    key: \"searchInObj\",\n    value: function searchInObj(itemObj, searchText) {\n      // eslint-disable-next-line no-unused-vars\n      for (var prop in itemObj) {\n        if (!itemObj.hasOwnProperty(prop)) {\n          continue;\n        }\n\n        var value = itemObj[prop];\n\n        if (typeof value === 'string') {\n          if (this.searchInString(value, searchText)) {\n            return true;\n          }\n        } else if (Array.isArray(value)) {\n          if (this.searchInArray(value, searchText)) {\n            return true;\n          }\n        }\n\n        if (typeof value === 'object') {\n          if (this.searchInObj(value, searchText)) {\n            return true;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"searchInArray\",\n    value: function searchInArray(arr, searchText) {\n      // eslint-disable-next-line no-unused-vars\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var value = _step.value;\n\n          if (typeof value === 'string') {\n            if (this.searchInString(value, searchText)) {\n              return true;\n            }\n          }\n\n          if (typeof value === 'object') {\n            if (this.searchInObj(value, searchText)) {\n              return true;\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"searchInString\",\n    value: function searchInString(value, searchText) {\n      return value.toLowerCase().includes(searchText);\n    }\n  }, {\n    key: \"generateGUID\",\n    value: function generateGUID() {\n      function S4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      }\n\n      return S4() + S4();\n    }\n  }, {\n    key: \"toggleInArray\",\n    value: function toggleInArray(item, array) {\n      if (array.indexOf(item) === -1) {\n        array.push(item);\n      } else {\n        array.splice(array.indexOf(item), 1);\n      }\n    }\n  }, {\n    key: \"handleize\",\n    value: function handleize(text) {\n      return text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n      .replace(/\\W+/g, '') // Remove all non-word chars\n      .replace(/--+/g, '-') // Replace multiple - with single -\n      .replace(/^-+/, '') // Trim - from start of text\n      .replace(/-+$/, ''); // Trim - from end of text\n    }\n  }, {\n    key: \"setRoutes\",\n    value: function setRoutes(config, defaultAuth) {\n      var routes = _toConsumableArray(config.routes);\n\n      if (config.settings || config.auth) {\n        routes = routes.map(function (route) {\n          var auth = config.auth ? _toConsumableArray(config.auth) : defaultAuth || null;\n          auth = route.auth ? [].concat(_toConsumableArray(auth), _toConsumableArray(route.auth)) : auth;\n          return _objectSpread({}, route, {\n            settings: _objectSpread({}, config.settings, {}, route.settings),\n            auth: auth\n          });\n        });\n      }\n\n      return _toConsumableArray(routes);\n    }\n  }, {\n    key: \"generateRoutesFromConfigs\",\n    value: function generateRoutesFromConfigs(configs, defaultAuth) {\n      var _this2 = this;\n\n      var allRoutes = [];\n      configs.forEach(function (config) {\n        allRoutes = [].concat(_toConsumableArray(allRoutes), _toConsumableArray(_this2.setRoutes(config, defaultAuth)));\n      });\n      return allRoutes;\n    }\n  }, {\n    key: \"findById\",\n    value: function findById(o, id) {\n      //Early return\n      if (o.id === id) {\n        return o;\n      }\n\n      var result, p;\n\n      for (p in o) {\n        if (o.hasOwnProperty(p) && typeof o[p] === 'object') {\n          result = this.findById(o[p], id);\n\n          if (result) {\n            return result;\n          }\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getFlatNavigation\",\n    value: function getFlatNavigation(navigationItems, flatNavigation) {\n      flatNavigation = flatNavigation ? flatNavigation : []; // eslint-disable-next-line no-unused-vars\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = navigationItems[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var navItem = _step2.value;\n\n          if (navItem.type === 'subheader') {\n            continue;\n          }\n\n          if (navItem.type === 'item') {\n            flatNavigation.push({\n              id: navItem.id,\n              title: navItem.title,\n              type: navItem.type,\n              icon: navItem.icon || false,\n              url: navItem.url,\n              auth: navItem.auth || null\n            });\n            continue;\n          }\n\n          if (navItem.type === 'collapse' || navItem.type === 'group') {\n            if (navItem.children) {\n              this.getFlatNavigation(navItem.children, flatNavigation);\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return flatNavigation;\n    }\n  }, {\n    key: \"randomMatColor\",\n    value: function randomMatColor(hue) {\n      hue = hue ? hue : '400';\n      var mainColors = ['red', 'pink', 'purple', 'deepPurple', 'indigo', 'blue', 'lightBlue', 'cyan', 'teal', 'green', 'lightGreen', 'lime', 'yellow', 'amber', 'orange', 'deepOrange'];\n      var randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\n      return colors[randomColor][hue];\n    }\n  }, {\n    key: \"difference\",\n    value: function difference(object, base) {\n      function changes(object, base) {\n        return _.transform(object, function (result, value, key) {\n          if (!_.isEqual(value, base[key])) {\n            result[key] = _.isObject(value) && _.isObject(base[key]) ? changes(value, base[key]) : value;\n          }\n        });\n      }\n\n      return changes(object, base);\n    }\n  }, {\n    key: \"updateNavItem\",\n    value: function updateNavItem(nav, id, item) {\n      var _this3 = this;\n\n      return nav.map(function (_item) {\n        if (_item.id === id) {\n          return _.merge({}, _item, item);\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this3.updateNavItem(_item.children, id, item)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      });\n    }\n  }, {\n    key: \"removeNavItem\",\n    value: function removeNavItem(nav, id) {\n      var _this4 = this;\n\n      return nav.map(function (_item) {\n        if (_item.id === id) {\n          return null;\n        }\n\n        if (_item.children) {\n          return _.merge({}, _.omit(_item, ['children']), {\n            children: _this4.removeNavItem(_item.children, id)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      }).filter(function (s) {\n        return s;\n      });\n    }\n  }, {\n    key: \"prependNavItem\",\n    value: function prependNavItem(nav, item, parentId) {\n      var _this5 = this;\n\n      if (!parentId) {\n        return [item].concat(_toConsumableArray(nav));\n      }\n\n      return nav.map(function (_item) {\n        if (_item.id === parentId && _item.children) {\n          return {\n            _item: _item,\n            children: [item].concat(_toConsumableArray(_item.children))\n          };\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this5.prependNavItem(_item.children, item, parentId)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      });\n    }\n  }, {\n    key: \"appendNavItem\",\n    value: function appendNavItem(nav, item, parentId) {\n      var _this6 = this;\n\n      if (!parentId) {\n        return [].concat(_toConsumableArray(nav), [item]);\n      }\n\n      return nav.map(function (_item) {\n        if (_item.id === parentId && _item.children) {\n          return {\n            _item: _item,\n            children: [].concat(_toConsumableArray(_item.children), [item])\n          };\n        }\n\n        if (_item.children) {\n          return _.merge({}, _item, {\n            children: _this6.appendNavItem(_item.children, item, parentId)\n          });\n        } else {\n          return _.merge({}, _item);\n        }\n      });\n    }\n  }, {\n    key: \"hasPermission\",\n    value: function hasPermission(authArr, userRole) {\n      /**\r\n       * If auth array is not defined\r\n       * Pass and allow\r\n       */\n      if (authArr === null || authArr === undefined) {\n        // console.info(\"auth is null || undefined:\", authArr);\n        return true;\n      }\n      /**\r\n       * if auth array is empty means,\r\n       * allow only user role is guest (null or empty[])\r\n       */\n      else if (authArr.length === 0) {\n          // console.info(\"auth is empty[]:\", authArr);\n          return !userRole || userRole.length === 0;\n        }\n        /**\r\n         * Check if user has grants\r\n         */\n        else {\n            // console.info(\"auth arr:\", authArr);\n\n            /*\r\n            Check if user role is array,\r\n            */\n            if (userRole && Array.isArray(userRole)) {\n              return authArr.some(function (r) {\n                return userRole.indexOf(r) >= 0;\n              });\n            }\n            /*\r\n            Check if user role is string,\r\n            */\n\n\n            return authArr.includes(userRole);\n          }\n    }\n  }]);\n\n  return FuseUtils;\n}();\n\nFuseUtils.EventEmitter = EventEmitter;\nexport default FuseUtils;","map":{"version":3,"sources":["C:\\Users\\Roan\\Documents\\GitHub\\OnTimeReactFrontEnd\\src\\@fuse\\FuseUtils.js"],"names":["colors","_","EventEmitter","events","eventName","Set","fn","_getEventListByName","add","self","onceFn","removeListener","args","apply","on","forEach","bind","delete","FuseUtils","mainArr","searchText","toLowerCase","filter","itemObj","searchInObj","prop","hasOwnProperty","value","searchInString","Array","isArray","searchInArray","arr","includes","S4","Math","floor","random","toString","substring","item","array","indexOf","push","splice","text","replace","config","defaultAuth","routes","settings","auth","map","route","configs","allRoutes","setRoutes","o","id","result","p","findById","navigationItems","flatNavigation","navItem","type","title","icon","url","children","getFlatNavigation","hue","mainColors","randomColor","length","object","base","changes","transform","key","isEqual","isObject","nav","_item","merge","updateNavItem","omit","removeNavItem","s","parentId","prependNavItem","appendNavItem","authArr","userRole","undefined","some","r"],"mappings":"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","sourcesContent":["import * as colors from '@material-ui/core/colors';\r\nimport _ from '@lodash';\r\n\r\nclass EventEmitter {\r\n\r\n    constructor()\r\n    {\r\n        this.events = {};\r\n    }\r\n\r\n    _getEventListByName(eventName)\r\n    {\r\n        if ( typeof this.events[eventName] === 'undefined' )\r\n        {\r\n            this.events[eventName] = new Set();\r\n        }\r\n        return this.events[eventName]\r\n    }\r\n\r\n    on(eventName, fn)\r\n    {\r\n        this._getEventListByName(eventName).add(fn);\r\n    }\r\n\r\n    once(eventName, fn)\r\n    {\r\n\r\n        const self = this;\r\n\r\n        const onceFn = function (...args) {\r\n            self.removeListener(eventName, onceFn);\r\n            fn.apply(self, args);\r\n        };\r\n        this.on(eventName, onceFn);\r\n\r\n    }\r\n\r\n    emit(eventName, ...args)\r\n    {\r\n\r\n        this._getEventListByName(eventName).forEach(function (fn) {\r\n\r\n            fn.apply(this, args);\r\n\r\n        }.bind(this));\r\n\r\n    }\r\n\r\n    removeListener(eventName, fn)\r\n    {\r\n        this._getEventListByName(eventName).delete(fn);\r\n    }\r\n}\r\n\r\nclass FuseUtils {\r\n\r\n    static filterArrayByString(mainArr, searchText)\r\n    {\r\n        if ( searchText === '' )\r\n        {\r\n            return mainArr;\r\n        }\r\n\r\n        searchText = searchText.toLowerCase();\r\n\r\n        return mainArr.filter(itemObj => {\r\n            return this.searchInObj(itemObj, searchText);\r\n        });\r\n    };\r\n\r\n    static searchInObj(itemObj, searchText)\r\n    {\r\n        // eslint-disable-next-line no-unused-vars\r\n        for ( const prop in itemObj )\r\n        {\r\n            if ( !itemObj.hasOwnProperty(prop) )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            const value = itemObj[prop];\r\n\r\n            if ( typeof value === 'string' )\r\n            {\r\n                if ( this.searchInString(value, searchText) )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            else if ( Array.isArray(value) )\r\n            {\r\n                if ( this.searchInArray(value, searchText) )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if ( typeof value === 'object' )\r\n            {\r\n                if ( this.searchInObj(value, searchText) )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static searchInArray(arr, searchText)\r\n    {\r\n        // eslint-disable-next-line no-unused-vars\r\n        for ( const value of arr )\r\n        {\r\n            if ( typeof value === 'string' )\r\n            {\r\n                if ( this.searchInString(value, searchText) )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if ( typeof value === 'object' )\r\n            {\r\n                if ( this.searchInObj(value, searchText) )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static searchInString(value, searchText)\r\n    {\r\n        return value.toLowerCase().includes(searchText);\r\n    }\r\n\r\n    static generateGUID()\r\n    {\r\n        function S4()\r\n        {\r\n            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\r\n        }\r\n\r\n        return S4() + S4();\r\n    }\r\n\r\n    static toggleInArray(item, array)\r\n    {\r\n        if ( array.indexOf(item) === -1 )\r\n        {\r\n            array.push(item);\r\n        }\r\n        else\r\n        {\r\n            array.splice(array.indexOf(item), 1);\r\n        }\r\n    }\r\n\r\n    static handleize(text)\r\n    {\r\n        return text.toString().toLowerCase()\r\n            .replace(/\\s+/g, '-')           // Replace spaces with -\r\n            .replace(/\\W+/g, '')       // Remove all non-word chars\r\n            .replace(/--+/g, '-')         // Replace multiple - with single -\r\n            .replace(/^-+/, '')             // Trim - from start of text\r\n            .replace(/-+$/, '');            // Trim - from end of text\r\n    }\r\n\r\n    static setRoutes(config, defaultAuth)\r\n    {\r\n        let routes = [...config.routes];\r\n\r\n        if ( config.settings || config.auth )\r\n        {\r\n            routes = routes.map((route) => {\r\n                let auth = config.auth ? [...config.auth] : defaultAuth || null;\r\n                auth = route.auth ? [...auth, ...route.auth] : auth;\r\n                return {\r\n                    ...route,\r\n                    settings: {...config.settings, ...route.settings},\r\n                    auth\r\n                };\r\n            });\r\n        }\r\n\r\n        return [...routes];\r\n    }\r\n\r\n    static generateRoutesFromConfigs(configs, defaultAuth)\r\n    {\r\n        let allRoutes = [];\r\n        configs.forEach((config) => {\r\n            allRoutes = [\r\n                ...allRoutes,\r\n                ...this.setRoutes(config, defaultAuth)\r\n            ]\r\n        });\r\n        return allRoutes;\r\n    }\r\n\r\n    static findById(o, id)\r\n    {\r\n        //Early return\r\n        if ( o.id === id )\r\n        {\r\n            return o;\r\n        }\r\n        let result, p;\r\n        for ( p in o )\r\n        {\r\n            if ( o.hasOwnProperty(p) && typeof o[p] === 'object' )\r\n            {\r\n                result = this.findById(o[p], id);\r\n                if ( result )\r\n                {\r\n                    return result;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static getFlatNavigation(navigationItems, flatNavigation)\r\n    {\r\n        flatNavigation = flatNavigation ? flatNavigation : [];\r\n        // eslint-disable-next-line no-unused-vars\r\n        for ( const navItem of navigationItems )\r\n        {\r\n            if ( navItem.type === 'subheader' )\r\n            {\r\n                continue;\r\n            }\r\n\r\n            if ( navItem.type === 'item' )\r\n            {\r\n                flatNavigation.push({\r\n                    id   : navItem.id,\r\n                    title: navItem.title,\r\n                    type : navItem.type,\r\n                    icon : navItem.icon || false,\r\n                    url  : navItem.url,\r\n                    auth : navItem.auth || null\r\n                });\r\n\r\n                continue;\r\n            }\r\n\r\n            if ( navItem.type === 'collapse' || navItem.type === 'group' )\r\n            {\r\n                if ( navItem.children )\r\n                {\r\n                    this.getFlatNavigation(navItem.children, flatNavigation);\r\n                }\r\n            }\r\n        }\r\n\r\n        return flatNavigation;\r\n    }\r\n\r\n    static randomMatColor(hue)\r\n    {\r\n        hue = hue ? hue : '400';\r\n        const mainColors = [\r\n            'red',\r\n            'pink',\r\n            'purple',\r\n            'deepPurple',\r\n            'indigo',\r\n            'blue',\r\n            'lightBlue',\r\n            'cyan',\r\n            'teal',\r\n            'green',\r\n            'lightGreen',\r\n            'lime',\r\n            'yellow',\r\n            'amber',\r\n            'orange',\r\n            'deepOrange'\r\n        ];\r\n        const randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\r\n        return colors[randomColor][hue];\r\n    }\r\n\r\n    static difference(object, base)\r\n    {\r\n        function changes(object, base)\r\n        {\r\n            return _.transform(object, function (result, value, key) {\r\n                if ( !_.isEqual(value, base[key]) )\r\n                {\r\n                    result[key] = (_.isObject(value) && _.isObject(base[key])) ? changes(value, base[key]) : value;\r\n                }\r\n            });\r\n        }\r\n\r\n        return changes(object, base);\r\n    }\r\n\r\n    static EventEmitter = EventEmitter;\r\n\r\n    static updateNavItem(nav, id, item)\r\n    {\r\n        return nav.map(_item => {\r\n\r\n            if ( _item.id === id )\r\n            {\r\n                return _.merge({}, _item, item);\r\n            }\r\n\r\n            if ( _item.children )\r\n            {\r\n                return _.merge({}, _item, {\r\n                    children: this.updateNavItem(_item.children, id, item)\r\n                });\r\n            }\r\n            else\r\n            {\r\n                return _.merge({}, _item);\r\n            }\r\n        })\r\n    }\r\n\r\n    static removeNavItem(nav, id)\r\n    {\r\n        return nav.map(_item => {\r\n            if ( _item.id === id )\r\n            {\r\n                return null;\r\n            }\r\n\r\n            if ( _item.children )\r\n            {\r\n                return _.merge({}, _.omit(_item, ['children']), {\r\n                    children: this.removeNavItem(_item.children, id)\r\n                });\r\n            }\r\n            else\r\n            {\r\n                return _.merge({}, _item);\r\n            }\r\n        }).filter(s => s)\r\n    }\r\n\r\n    static prependNavItem(nav, item, parentId)\r\n    {\r\n        if ( !parentId )\r\n        {\r\n            return [\r\n                item,\r\n                ...nav\r\n            ]\r\n        }\r\n\r\n        return nav.map(_item => {\r\n\r\n            if ( _item.id === parentId && _item.children )\r\n            {\r\n                return {\r\n                    _item,\r\n                    children: [\r\n                        item,\r\n                        ..._item.children\r\n                    ]\r\n                };\r\n            }\r\n\r\n            if ( _item.children )\r\n            {\r\n                return _.merge({}, _item, {\r\n                    children: this.prependNavItem(_item.children, item, parentId)\r\n                });\r\n            }\r\n            else\r\n            {\r\n                return _.merge({}, _item);\r\n            }\r\n        })\r\n    }\r\n\r\n    static appendNavItem(nav, item, parentId)\r\n    {\r\n        if ( !parentId )\r\n        {\r\n            return [\r\n                ...nav,\r\n                item\r\n            ]\r\n        }\r\n\r\n        return nav.map(_item => {\r\n\r\n            if ( _item.id === parentId && _item.children )\r\n            {\r\n                return {\r\n                    _item,\r\n                    children: [\r\n                        ..._item.children,\r\n                        item\r\n                    ]\r\n                };\r\n            }\r\n\r\n            if ( _item.children )\r\n            {\r\n                return _.merge({}, _item, {\r\n                    children: this.appendNavItem(_item.children, item, parentId)\r\n                });\r\n            }\r\n            else\r\n            {\r\n                return _.merge({}, _item);\r\n            }\r\n        })\r\n    }\r\n\r\n    static hasPermission(authArr, userRole)\r\n    {\r\n        /**\r\n         * If auth array is not defined\r\n         * Pass and allow\r\n         */\r\n        if ( authArr === null || authArr === undefined )\r\n        {\r\n            // console.info(\"auth is null || undefined:\", authArr);\r\n            return true;\r\n        }\r\n        /**\r\n         * if auth array is empty means,\r\n         * allow only user role is guest (null or empty[])\r\n         */\r\n        else if ( authArr.length === 0 )\r\n        {\r\n            // console.info(\"auth is empty[]:\", authArr);\r\n            return !userRole || userRole.length === 0;\r\n        }\r\n        /**\r\n         * Check if user has grants\r\n         */\r\n        else\r\n        {\r\n            // console.info(\"auth arr:\", authArr);\r\n            /*\r\n            Check if user role is array,\r\n            */\r\n            if ( userRole && Array.isArray(userRole) )\r\n            {\r\n                return authArr.some(r => userRole.indexOf(r) >= 0);\r\n            }\r\n\r\n            /*\r\n            Check if user role is string,\r\n            */\r\n            return authArr.includes(userRole);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default FuseUtils;\r\n"]},"metadata":{},"sourceType":"module"}