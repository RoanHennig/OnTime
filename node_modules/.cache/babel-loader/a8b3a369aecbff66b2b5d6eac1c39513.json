{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\src\\\\@fuse\\\\components\\\\FuseNavigation\\\\horizontal\\\\FuseNavHorizontalCollapse.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { Grow, Paper, Icon, IconButton, ListItem, ListItemText } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport { FuseUtils } from '@fuse';\nimport { useDebounce } from '@fuse/hooks';\nimport { withRouter } from 'react-router-dom';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { Manager, Reference, Popper } from 'react-popper';\nimport * as ReactDOM from 'react-dom';\nimport FuseNavHorizontalGroup from './FuseNavHorizontalGroup';\nimport FuseNavHorizontalItem from './FuseNavHorizontalItem';\nimport FuseNavHorizontalLink from './FuseNavHorizontalLink';\nimport FuseNavBadge from './../FuseNavBadge';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      '& .list-item-text': {\n        padding: '0 0 0 16px'\n      }\n    },\n    button: {\n      color: theme.palette.text.primary,\n      minHeight: 48,\n      '&.active, &.active:hover, &.active:focus': {\n        backgroundColor: theme.palette.secondary.main + '!important',\n        color: theme.palette.secondary.contrastText + '!important',\n        '& .list-item-text-primary': {\n          color: 'inherit'\n        },\n        '& .list-item-icon': {\n          color: 'inherit'\n        }\n      },\n      '&.open': {\n        backgroundColor: 'rgba(0,0,0,.08)'\n      },\n      '&.dense': {\n        padding: '8px 12px 8px 12px',\n        minHeight: 40,\n        '& .list-item-text': {\n          padding: '0 0 0 8px'\n        }\n      }\n    },\n    popper: {\n      zIndex: 999\n    },\n    popperClose: {\n      pointerEvents: 'none'\n    }\n  };\n});\n\nfunction FuseNavHorizontalCollapse(props) {\n  var userRole = useSelector(function (_ref) {\n    var auth = _ref.auth;\n    return auth.user.role;\n  });\n  var classes = useStyles(props);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      opened = _useState2[0],\n      setOpened = _useState2[1];\n\n  var item = props.item,\n      nestedLevel = props.nestedLevel,\n      dense = props.dense;\n  var handleToggle = useDebounce(function (open) {\n    setOpened(open);\n  }, 150);\n\n  if (!FuseUtils.hasPermission(item.auth, userRole)) {\n    return null;\n  }\n\n  function isUrlInChildren(parent, url) {\n    if (!parent.children) {\n      return false;\n    }\n\n    for (var i = 0; i < parent.children.length; i++) {\n      if (parent.children[i].children) {\n        if (isUrlInChildren(parent.children[i], url)) {\n          return true;\n        }\n      }\n\n      if (parent.children[i].url === url || url.includes(parent.children[i].url)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  return React.createElement(\"ul\", {\n    className: clsx(classes.root, \"relative pl-0\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Manager, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Reference, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, function (_ref2) {\n    var ref = _ref2.ref;\n    return React.createElement(\"div\", {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(ListItem, {\n      button: true,\n      className: clsx(\"list-item\", classes.button, opened && \"open\", dense && \"dense\", isUrlInChildren(item, props.location.pathname) && \"active\"),\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      \"aria-owns\": opened ? 'menu-list-grow' : null,\n      \"aria-haspopup\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, item.icon && React.createElement(Icon, {\n      color: \"action\",\n      className: \"list-item-icon text-16 flex-shrink-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, item.icon), React.createElement(ListItemText, {\n      className: \"list-item-text\",\n      primary: item.title,\n      classes: {\n        primary: 'text-14'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), item.badge && React.createElement(FuseNavBadge, {\n      className: \"ml-8 mr-4\",\n      badge: item.badge,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(IconButton, {\n      disableRipple: true,\n      className: \"w-16 h-16 ml-4 p-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      className: \"text-16 arrow-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"keyboard_arrow_right\"))));\n  }), ReactDOM.createPortal(React.createElement(Popper, {\n    placement: \"right\",\n    eventsEnabled: opened,\n    positionFixed: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, function (_ref3) {\n    var ref = _ref3.ref,\n        style = _ref3.style,\n        placement = _ref3.placement,\n        arrowProps = _ref3.arrowProps;\n    return opened && React.createElement(\"div\", {\n      ref: ref,\n      style: _objectSpread({}, style, {\n        zIndex: 999 + nestedLevel + 1\n      }),\n      \"data-placement\": placement,\n      className: clsx(classes.popper, _defineProperty({}, classes.popperClose, !opened)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(Grow, {\n      in: opened,\n      id: \"menu-list-grow\",\n      style: {\n        transformOrigin: '0 0 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      onMouseEnter: function onMouseEnter() {\n        return handleToggle(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return handleToggle(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, item.children && React.createElement(\"ul\", {\n      className: clsx(classes.children, \"pl-0\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, item.children.map(function (item) {\n      return React.createElement(React.Fragment, {\n        key: item.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, item.type === 'group' && React.createElement(FuseNavHorizontalGroup, {\n        item: item,\n        nestedLevel: nestedLevel + 1,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), item.type === 'collapse' && React.createElement(NavHorizontalCollapse, {\n        item: item,\n        nestedLevel: nestedLevel + 1,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), item.type === 'item' && React.createElement(FuseNavHorizontalItem, {\n        item: item,\n        nestedLevel: nestedLevel + 1,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), item.type === 'link' && React.createElement(FuseNavHorizontalLink, {\n        item: item,\n        nestedLevel: nestedLevel + 1,\n        dense: dense,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }));\n    })))));\n  }), document.querySelector('#root'))));\n}\n\nFuseNavHorizontalCollapse.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    icon: PropTypes.string,\n    children: PropTypes.array\n  })\n};\nFuseNavHorizontalCollapse.defaultProps = {};\nvar NavHorizontalCollapse = withRouter(React.memo(FuseNavHorizontalCollapse));\nexport default NavHorizontalCollapse;","map":{"version":3,"sources":["C:\\Users\\Roan\\Documents\\GitHub\\OnTimeReactFrontEnd\\src\\@fuse\\components\\FuseNavigation\\horizontal\\FuseNavHorizontalCollapse.js"],"names":["React","useState","Grow","Paper","Icon","IconButton","ListItem","ListItemText","makeStyles","FuseUtils","useDebounce","withRouter","clsx","PropTypes","useSelector","Manager","Reference","Popper","ReactDOM","FuseNavHorizontalGroup","FuseNavHorizontalItem","FuseNavHorizontalLink","FuseNavBadge","useStyles","theme","root","padding","button","color","palette","text","primary","minHeight","backgroundColor","secondary","main","contrastText","popper","zIndex","popperClose","pointerEvents","FuseNavHorizontalCollapse","props","userRole","auth","user","role","classes","opened","setOpened","item","nestedLevel","dense","handleToggle","open","hasPermission","isUrlInChildren","parent","url","children","i","length","includes","ref","location","pathname","icon","title","badge","createPortal","style","placement","arrowProps","transformOrigin","map","id","type","document","querySelector","propTypes","shape","string","isRequired","array","defaultProps","NavHorizontalCollapse","memo"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {Grow, Paper, Icon, IconButton, ListItem, ListItemText} from '@material-ui/core';\r\nimport {makeStyles} from '@material-ui/styles';\r\nimport {FuseUtils} from '@fuse';\r\nimport {useDebounce} from '@fuse/hooks';\r\nimport {withRouter} from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport {useSelector} from 'react-redux';\r\nimport {Manager, Reference, Popper} from 'react-popper';\r\nimport * as ReactDOM from 'react-dom';\r\nimport FuseNavHorizontalGroup from './FuseNavHorizontalGroup';\r\nimport FuseNavHorizontalItem from './FuseNavHorizontalItem';\r\nimport FuseNavHorizontalLink from './FuseNavHorizontalLink';\r\nimport FuseNavBadge from './../FuseNavBadge';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root       : {\r\n        '& .list-item-text': {\r\n            padding: '0 0 0 16px'\r\n        }\r\n    },\r\n    button     : {\r\n        color                                     : theme.palette.text.primary,\r\n        minHeight                                 : 48,\r\n        '&.active, &.active:hover, &.active:focus': {\r\n            backgroundColor            : theme.palette.secondary.main + '!important',\r\n            color                      : theme.palette.secondary.contrastText + '!important',\r\n            '& .list-item-text-primary': {\r\n                color: 'inherit'\r\n            },\r\n            '& .list-item-icon'        : {\r\n                color: 'inherit'\r\n            }\r\n        },\r\n        '&.open'                                  : {\r\n            backgroundColor: 'rgba(0,0,0,.08)'\r\n        },\r\n        '&.dense'                                 : {\r\n            padding            : '8px 12px 8px 12px',\r\n            minHeight          : 40,\r\n            '& .list-item-text': {\r\n                padding: '0 0 0 8px'\r\n            }\r\n        }\r\n    },\r\n    popper     : {\r\n        zIndex: 999\r\n    },\r\n    popperClose: {\r\n        pointerEvents: 'none'\r\n    }\r\n}));\r\n\r\nfunction FuseNavHorizontalCollapse(props)\r\n{\r\n    const userRole = useSelector(({auth}) => auth.user.role);\r\n\r\n    const classes = useStyles(props);\r\n    const [opened, setOpened] = useState(false);\r\n    const {item, nestedLevel, dense} = props;\r\n\r\n    const handleToggle = useDebounce((open) => {\r\n        setOpened(open);\r\n    }, 150);\r\n\r\n    if ( !FuseUtils.hasPermission(item.auth, userRole) )\r\n    {\r\n        return null;\r\n    }\r\n\r\n    function isUrlInChildren(parent, url)\r\n    {\r\n        if ( !parent.children )\r\n        {\r\n            return false;\r\n        }\r\n\r\n        for ( let i = 0; i < parent.children.length; i++ )\r\n        {\r\n            if ( parent.children[i].children )\r\n            {\r\n                if ( isUrlInChildren(parent.children[i], url) )\r\n                {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            if ( parent.children[i].url === url || url.includes(parent.children[i].url) )\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    return (\r\n        <ul className={clsx(classes.root, \"relative pl-0\")}>\r\n            <Manager>\r\n                <Reference>\r\n                    {({ref}) => (\r\n                        <div ref={ref}>\r\n                            <ListItem\r\n                                button\r\n                                className={clsx(\"list-item\", classes.button, opened && \"open\", dense && \"dense\", isUrlInChildren(item, props.location.pathname) && \"active\")}\r\n                                onMouseEnter={() => handleToggle(true)}\r\n                                onMouseLeave={() => handleToggle(false)}\r\n                                aria-owns={opened ? 'menu-list-grow' : null}\r\n                                aria-haspopup=\"true\"\r\n                            >\r\n                                {item.icon && (\r\n                                    <Icon color=\"action\" className=\"list-item-icon text-16 flex-shrink-0\">{item.icon}</Icon>\r\n                                )}\r\n                                <ListItemText className=\"list-item-text\" primary={item.title} classes={{primary: 'text-14'}}/>\r\n                                {item.badge && (\r\n                                    <FuseNavBadge className=\"ml-8 mr-4\" badge={item.badge}/>\r\n                                )}\r\n                                <IconButton disableRipple className=\"w-16 h-16 ml-4 p-0\">\r\n                                    <Icon className=\"text-16 arrow-icon\">keyboard_arrow_right</Icon>\r\n                                </IconButton>\r\n                            </ListItem>\r\n                        </div>\r\n                    )}\r\n                </Reference>\r\n                {ReactDOM.createPortal(\r\n                    <Popper\r\n                        placement=\"right\"\r\n                        eventsEnabled={opened}\r\n                        positionFixed\r\n                    >\r\n                        {({ref, style, placement, arrowProps}) => (\r\n                            opened && (\r\n                                <div\r\n                                    ref={ref}\r\n                                    style={{\r\n                                        ...style,\r\n                                        zIndex: 999 + nestedLevel + 1\r\n                                    }}\r\n                                    data-placement={placement}\r\n                                    className={clsx(classes.popper, {[classes.popperClose]: !opened})}\r\n                                >\r\n                                    <Grow in={opened} id=\"menu-list-grow\" style={{transformOrigin: '0 0 0'}}>\r\n                                        <Paper\r\n                                            onMouseEnter={() => handleToggle(true)}\r\n                                            onMouseLeave={() => handleToggle(false)}\r\n                                        >\r\n                                            {item.children && (\r\n                                                <ul className={clsx(classes.children, \"pl-0\")}>\r\n                                                    {\r\n                                                        item.children.map((item) => (\r\n\r\n                                                            <React.Fragment key={item.id}>\r\n\r\n                                                                {item.type === 'group' && (\r\n                                                                    <FuseNavHorizontalGroup item={item} nestedLevel={nestedLevel + 1} dense={dense}/>\r\n                                                                )}\r\n\r\n                                                                {item.type === 'collapse' && (\r\n                                                                    <NavHorizontalCollapse item={item} nestedLevel={nestedLevel + 1} dense={dense}/>\r\n                                                                )}\r\n\r\n                                                                {item.type === 'item' && (\r\n                                                                    <FuseNavHorizontalItem item={item} nestedLevel={nestedLevel + 1} dense={dense}/>\r\n                                                                )}\r\n\r\n                                                                {item.type === 'link' && (\r\n                                                                    <FuseNavHorizontalLink item={item} nestedLevel={nestedLevel + 1} dense={dense}/>\r\n                                                                )}\r\n\r\n                                                            </React.Fragment>\r\n                                                        ))\r\n                                                    }\r\n                                                </ul>\r\n                                            )}\r\n                                        </Paper>\r\n                                    </Grow>\r\n                                </div>\r\n                            )\r\n                        )}\r\n                    </Popper>,\r\n                    document.querySelector('#root')\r\n                )}\r\n            </Manager>\r\n        </ul>\r\n    );\r\n}\r\n\r\nFuseNavHorizontalCollapse.propTypes = {\r\n    item: PropTypes.shape(\r\n        {\r\n            id      : PropTypes.string.isRequired,\r\n            title   : PropTypes.string,\r\n            icon    : PropTypes.string,\r\n            children: PropTypes.array\r\n        })\r\n};\r\n\r\nFuseNavHorizontalCollapse.defaultProps = {};\r\n\r\nconst NavHorizontalCollapse = withRouter(React.memo(FuseNavHorizontalCollapse));\r\n\r\nexport default NavHorizontalCollapse;\r\n"]},"metadata":{},"sourceType":"module"}