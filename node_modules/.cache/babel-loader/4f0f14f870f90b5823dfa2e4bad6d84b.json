{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\src\\\\app\\\\main\\\\pages\\\\business-setup\\\\Steps\\\\Step4.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as BusinessSetupActions from '../store/actions';\nimport ShiftButtonCell from './Utils/ShiftButtonCell';\nimport service from './Step4.data.js';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport ShiftDialog from './Utils/ShiftDialog';\nimport { makeStyles } from '@material-ui/styles';\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport TextField from '@material-ui/core/TextField';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      width: '100%',\n      marginTop: theme.spacing(3),\n      overflowX: 'auto'\n    },\n    tableCell: {\n      maxWidth: 250\n    },\n    table: {\n      marginBottom: theme.spacing(2)\n    },\n    addStaffButton: {\n      float: 'left',\n      marginBottom: theme.spacing(1),\n      marginLeft: theme.spacing(1)\n    },\n    cellButton: {\n      marginBottom: theme.spacing(1)\n    }\n  };\n});\n\nfunction Step4(props) {\n  var handleClick = function handleClick(row, day, period) {\n    setShiftRow(row);\n    setShiftDay(day);\n    setShiftPeriod(period);\n    period = shiftPeriod;\n    setIsOpen(true);\n  };\n\n  var handleSave = function handleSave(formData) {\n    setIsOpen(false); // const newDataSource = [...dataSource];\n    // const index = newDataSource.indexOf(shiftRow);\n    // console.log(newDataSource[index]);\n    // const newShift = [...newDataSource[index].shiftDay];   \n    // const shiftIndex = newShift.indexOf(shiftPeriod);\n    // newDataSource[index].shiftDay[shiftIndex] = formData;\n    // setDataSource(newDataSource);\n\n    setShiftPeriod(formData);\n  };\n\n  var handleAddStaffClick = function handleAddStaffClick() {\n    var newItem = _objectSpread({}, dataSource[0]);\n\n    newItem.staffID = dataSource.length + 1;\n    setDataSource(dataSource.concat(newItem));\n  };\n\n  var handleDeleteStaffMember = function handleDeleteStaffMember(row) {\n    var newDataSource = _toConsumableArray(dataSource);\n\n    var index = newDataSource.indexOf(row);\n    newDataSource.splice(index, 1);\n    setDataSource(newDataSource);\n  };\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      shiftPeriod = _useState4[0],\n      setShiftPeriod = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      shiftRow = _useState6[0],\n      setShiftRow = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      shiftDay = _useState8[0],\n      setShiftDay = _useState8[1];\n\n  var _useState9 = useState(service.createDataSet()),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dataSource = _useState10[0],\n      setDataSource = _useState10[1];\n\n  var classes = useStyles();\n  return React.createElement(Paper, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(ShiftDialog, {\n    open: isOpen,\n    setClose: setIsOpen,\n    shiftPeriod: shiftPeriod,\n    handleSave: handleSave,\n    setShiftPeriod: setShiftPeriod,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(Table, {\n    className: classes.table,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Staff Member\"), React.createElement(TableCell, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Sunday\"), React.createElement(TableCell, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Monday\"), React.createElement(TableCell, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Tuesday\"), React.createElement(TableCell, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Wednesday\"), React.createElement(TableCell, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, \"Thursday\"), React.createElement(TableCell, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Friday\"), React.createElement(TableCell, {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Saturday\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, dataSource.map(function (row) {\n    return React.createElement(TableRow, {\n      key: row.staffID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(TableCell, {\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      onClick: function onClick() {\n        return handleDeleteStaffMember(row);\n      },\n      className: classes.margin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(DeleteIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))), React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      defaultValue: row.staffName,\n      margin: \"normal\",\n      inputProps: {\n        'aria-label': 'name'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: classes.tableCell,\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, row.sunday ? row.sunday.map(function (shift) {\n      return React.createElement(ShiftButtonCell, {\n        shift: shift.shiftStart + ' - ' + shift.shiftEnd,\n        click: function click() {\n          return handleClick(row, row.sunday, shift);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      });\n    }) : React.createElement(ShiftButtonCell, {\n      shift: 'ADD',\n      startIcon: React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }),\n      click: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: classes.tableCell,\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, row.monday ? row.monday.map(function (shift) {\n      return React.createElement(ShiftButtonCell, {\n        shift: shift,\n        click: handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      });\n    }) : React.createElement(ShiftButtonCell, {\n      shift: 'ADD',\n      startIcon: React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }),\n      click: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: classes.tableCell,\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, row.tuesday ? row.tuesday.map(function (shift) {\n      return React.createElement(ShiftButtonCell, {\n        shift: shift,\n        click: handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      });\n    }) : React.createElement(ShiftButtonCell, {\n      shift: 'ADD',\n      startIcon: React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }),\n      click: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: classes.tableCell,\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, row.wednesday ? row.wednesday.map(function (shift) {\n      return React.createElement(ShiftButtonCell, {\n        shift: shift,\n        click: handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      });\n    }) : React.createElement(ShiftButtonCell, {\n      shift: 'ADD',\n      startIcon: React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }),\n      click: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: classes.tableCell,\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, row.thursday ? row.thursday.map(function (shift) {\n      return React.createElement(ShiftButtonCell, {\n        shift: shift,\n        click: handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      });\n    }) : React.createElement(ShiftButtonCell, {\n      shift: 'ADD',\n      startIcon: React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }),\n      click: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: classes.tableCell,\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, row.friday ? row.friday.map(function (shift) {\n      return React.createElement(ShiftButtonCell, {\n        shift: shift,\n        click: handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      });\n    }) : React.createElement(ShiftButtonCell, {\n      shift: 'ADD',\n      startIcon: React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }),\n      click: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(TableCell, {\n      className: classes.tableCell,\n      align: \"right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, row.saturday ? row.saturday.map(function (shift) {\n      return React.createElement(ShiftButtonCell, {\n        shift: shift,\n        click: handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      });\n    }) : React.createElement(ShiftButtonCell, {\n      shift: 'ADD',\n      startIcon: React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }),\n      click: handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })));\n  }))), React.createElement(Button, {\n    className: classes.addStaffButton,\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: handleAddStaffClick,\n    startIcon: React.createElement(AddIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"Add Staff\"));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    stepDetails: state.businessSetupSteps.Step4\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    setEnableNext: BusinessSetupActions.setEnableNext,\n    setDisableNext: BusinessSetupActions.setDisableNext\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Step4);","map":{"version":3,"sources":["C:\\Users\\Roan\\Documents\\GitHub\\OnTimeReactFrontEnd\\src\\app\\main\\pages\\business-setup\\Steps\\Step4.js"],"names":["React","useState","useEffect","connect","bindActionCreators","BusinessSetupActions","ShiftButtonCell","service","Table","TableBody","TableCell","TableHead","TableRow","Paper","ShiftDialog","makeStyles","AddIcon","DeleteIcon","EditIcon","Button","IconButton","TextField","useStyles","theme","root","width","marginTop","spacing","overflowX","tableCell","maxWidth","table","marginBottom","addStaffButton","float","marginLeft","cellButton","Step4","props","handleClick","row","day","period","setShiftRow","setShiftDay","setShiftPeriod","shiftPeriod","setIsOpen","handleSave","formData","handleAddStaffClick","newItem","dataSource","staffID","length","setDataSource","concat","handleDeleteStaffMember","newDataSource","index","indexOf","splice","isOpen","shiftRow","shiftDay","createDataSet","classes","map","margin","staffName","sunday","shift","shiftStart","shiftEnd","monday","tuesday","wednesday","thursday","friday","saturday","mapStateToProps","state","stepDetails","businessSetupSteps","mapDispatchToProps","dispatch","setEnableNext","setDisableNext"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect }  from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport * as BusinessSetupActions from '../store/actions';\r\nimport ShiftButtonCell from './Utils/ShiftButtonCell'\r\nimport service from './Step4.data.js';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport ShiftDialog from './Utils/ShiftDialog';\r\nimport {makeStyles} from '@material-ui/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(3),\r\n        overflowX: 'auto',\r\n      },\r\n    tableCell: {\r\n        maxWidth: 250,\r\n      },\r\n    table: {\r\n        marginBottom: theme.spacing(2),\r\n      },\r\n    addStaffButton: {\r\n        float: 'left',\r\n        marginBottom: theme.spacing(1),\r\n        marginLeft: theme.spacing(1),\r\n      },\r\n    cellButton: {\r\n        marginBottom: theme.spacing(1),\r\n      }\r\n}));\r\n\r\nfunction Step4(props){\r\n\r\n    const handleClick = (row,day,period) => {\r\n        setShiftRow(row);\r\n        setShiftDay(day);\r\n        setShiftPeriod(period);\r\n        period = shiftPeriod;\r\n        setIsOpen(true);\r\n      };\r\n\r\n    const handleSave = (formData) => {        \r\n        setIsOpen(false);\r\n        // const newDataSource = [...dataSource];\r\n        // const index = newDataSource.indexOf(shiftRow);\r\n        // console.log(newDataSource[index]);\r\n        // const newShift = [...newDataSource[index].shiftDay];   \r\n        // const shiftIndex = newShift.indexOf(shiftPeriod);\r\n        // newDataSource[index].shiftDay[shiftIndex] = formData;\r\n        // setDataSource(newDataSource);\r\n        setShiftPeriod(formData);\r\n    };\r\n\r\n    const handleAddStaffClick = () => {\r\n        const newItem = {...dataSource[0]};\r\n        newItem.staffID = dataSource.length + 1;\r\n        setDataSource(dataSource.concat(newItem));\r\n    };\r\n\r\n    const handleDeleteStaffMember = (row) => {\r\n        const newDataSource = [...dataSource];     \r\n        const index = newDataSource.indexOf(row);\r\n        newDataSource.splice(index, 1);\r\n        setDataSource(newDataSource);\r\n    };\r\n\r\n    const [isOpen, setIsOpen] = useState(null);\r\n    const [shiftPeriod, setShiftPeriod] = useState(null);\r\n    const [shiftRow, setShiftRow] = useState(null);\r\n    const [shiftDay, setShiftDay] = useState(null);\r\n    const [dataSource, setDataSource] = useState(service.createDataSet());\r\n\r\n    const classes = useStyles();\r\n\r\n        return (      \r\n            <Paper className={classes.root}>\r\n                <ShiftDialog open={isOpen} setClose={setIsOpen} shiftPeriod={shiftPeriod} handleSave={handleSave} setShiftPeriod = {setShiftPeriod}/>\r\n                <Table className={classes.table}>\r\n                    <TableHead>\r\n                        <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Staff Member</TableCell>\r\n                        <TableCell align=\"center\">Sunday</TableCell>\r\n                        <TableCell align=\"center\">Monday</TableCell>\r\n                        <TableCell align=\"center\">Tuesday</TableCell>\r\n                        <TableCell align=\"center\">Wednesday</TableCell>\r\n                        <TableCell align=\"center\">Thursday</TableCell>\r\n                        <TableCell align=\"center\">Friday</TableCell>\r\n                        <TableCell align=\"center\">Saturday</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {dataSource.map(row => (\r\n                        <TableRow key={row.staffID}>\r\n                            <TableCell scope=\"row\">\r\n                            <IconButton aria-label=\"delete\" onClick={() => handleDeleteStaffMember(row)} className={classes.margin}>\r\n                                <DeleteIcon />\r\n                            </IconButton>\r\n                            </TableCell>\r\n                            <TableCell component=\"th\" scope=\"row\">\r\n                            <TextField\r\n                                defaultValue={row.staffName}\r\n                                margin=\"normal\"\r\n                                inputProps={{ 'aria-label': 'name' }}\r\n                            />                               \r\n                            </TableCell>\r\n                            <TableCell className={classes.tableCell} align=\"right\">\r\n                            {row.sunday ? row.sunday.map(shift => (                       \r\n                                <ShiftButtonCell shift={shift.shiftStart + ' - ' + shift.shiftEnd} click={() => handleClick(row,row.sunday,shift)}/>                  \r\n                            )) : <ShiftButtonCell shift={'ADD'} startIcon={<AddIcon />} click={handleClick}/>}  \r\n                            </TableCell>                \r\n                            <TableCell className={classes.tableCell} align=\"right\">\r\n                            {row.monday ? row.monday.map(shift => (                       \r\n                                <ShiftButtonCell shift={shift} click={handleClick}/>                  \r\n                            )) : <ShiftButtonCell shift={'ADD'} startIcon={<AddIcon />} click={handleClick}/>}  \r\n                            </TableCell>  \r\n                            <TableCell className={classes.tableCell} align=\"right\">\r\n                            {row.tuesday ? row.tuesday.map(shift => (                       \r\n                                <ShiftButtonCell shift={shift} click={handleClick}/>                  \r\n                            )) : <ShiftButtonCell shift={'ADD'} startIcon={<AddIcon />} click={handleClick}/>} \r\n                            </TableCell>  \r\n                            <TableCell className={classes.tableCell} align=\"right\">\r\n                            {row.wednesday ? row.wednesday.map(shift => (                       \r\n                                <ShiftButtonCell shift={shift} click={handleClick}/>                  \r\n                            )) : <ShiftButtonCell shift={'ADD'} startIcon={<AddIcon />} click={handleClick}/>} \r\n                            </TableCell>  \r\n                            <TableCell className={classes.tableCell} align=\"right\">\r\n                            {row.thursday ? row.thursday.map(shift => (                       \r\n                                <ShiftButtonCell shift={shift} click={handleClick}/>                  \r\n                            )) : <ShiftButtonCell shift={'ADD'} startIcon={<AddIcon />} click={handleClick}/>} \r\n                            </TableCell>  \r\n                            <TableCell className={classes.tableCell} align=\"right\">\r\n                            {row.friday ? row.friday.map(shift => (                       \r\n                                <ShiftButtonCell shift={shift} click={handleClick}/>                  \r\n                            )) : <ShiftButtonCell shift={'ADD'} startIcon={<AddIcon />} click={handleClick}/>} \r\n                            </TableCell> \r\n                            <TableCell className={classes.tableCell} align=\"right\">\r\n                            {row.saturday ? row.saturday.map(shift => (                       \r\n                                <ShiftButtonCell shift={shift} click={handleClick}/>                  \r\n                            )) : <ShiftButtonCell shift={'ADD'} startIcon={<AddIcon />} click={handleClick}/>} \r\n                            </TableCell> \r\n                        </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n                <Button \r\n                className={classes.addStaffButton}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={handleAddStaffClick}\r\n                startIcon={<AddIcon />} >\r\n                    Add Staff\r\n                </Button>\r\n          </Paper>\r\n      )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stepDetails: state.businessSetupSteps.Step4\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n{\r\n    return bindActionCreators({\r\n        setEnableNext               : BusinessSetupActions.setEnableNext,\r\n        setDisableNext              : BusinessSetupActions.setDisableNext,\r\n    },\r\n    dispatch);\r\n}\r\n\r\nexport default (connect(mapStateToProps, mapDispatchToProps)(Step4));"]},"metadata":{},"sourceType":"module"}