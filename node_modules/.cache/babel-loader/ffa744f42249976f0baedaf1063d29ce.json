{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Roan\\\\Documents\\\\GitHub\\\\OnTimeReactFrontEnd\\\\src\\\\@fuse\\\\components\\\\FuseLayout\\\\FuseLayout.js\";\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core';\nimport { FuseLayouts } from '@fuse';\nimport _ from '@lodash';\nimport { withRouter } from 'react-router-dom';\nimport { matchRoutes } from 'react-router-config';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport * as Actions from 'app/store/actions';\nimport AppContext from 'app/AppContext';\nimport { generateSettings } from 'app/store/reducers/fuse/settings.reducer';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      backgroundColor: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      '& code:not([class*=\"language-\"])': {\n        color: theme.palette.secondary.dark,\n        backgroundColor: '#F5F5F5',\n        padding: '2px 3px',\n        borderRadius: 2,\n        lineHeight: 1.7\n      },\n      '& table.simple tbody tr td': {\n        borderColor: theme.palette.divider\n      },\n      '& table.simple thead tr th': {\n        borderColor: theme.palette.divider\n      },\n      '& a:not([role=button])': {\n        color: theme.palette.secondary.main,\n        textDecoration: 'none',\n        '&:hover': {\n          textDecoration: 'underline'\n        }\n      },\n      '& [class^=\"border-\"]': {\n        borderColor: theme.palette.divider\n      },\n      '& [class*=\"border-\"]': {\n        borderColor: theme.palette.divider\n      }\n    }\n  };\n};\n\nvar FuseLayout =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FuseLayout, _Component);\n\n  function FuseLayout(props, context) {\n    var _this;\n\n    _classCallCheck(this, FuseLayout);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FuseLayout).call(this, props));\n    var routes = context.routes;\n    _this.state = {\n      awaitRender: false,\n      routes: routes\n    };\n    return _this;\n  }\n\n  _createClass(FuseLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          settings = _this$props.settings,\n          classes = _this$props.classes; // console.warn('FuseLayout:: rendered');\n\n      var Layout = FuseLayouts[settings.layout.style];\n      return !this.state.awaitRender ? React.createElement(Layout, Object.assign({\n        classes: {\n          root: classes.root\n        }\n      }, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })) : null;\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var pathname = props.location.pathname;\n      var matched = matchRoutes(state.routes, pathname)[0];\n      var newSettings = props.settings;\n\n      if (state.pathname !== pathname) {\n        if (matched && matched.route.settings) {\n          var routeSettings = matched.route.settings;\n          newSettings = generateSettings(props.defaultSettings, routeSettings);\n\n          if (!_.isEqual(props.settings, newSettings)) {\n            props.setSettings(newSettings);\n          }\n        } else {\n          if (!_.isEqual(props.settings, props.defaultSettings)) {\n            newSettings = _.merge({}, props.defaultSettings);\n            props.resetSettings();\n          }\n        }\n      }\n\n      return {\n        awaitRender: !_.isEqual(props.settings, newSettings),\n        pathname: pathname\n      };\n    }\n  }]);\n\n  return FuseLayout;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    setSettings: Actions.setSettings,\n    resetSettings: Actions.resetSettings\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var fuse = _ref.fuse;\n  return {\n    defaultSettings: fuse.settings.defaults,\n    settings: fuse.settings.current\n  };\n}\n\nFuseLayout.contextType = AppContext;\nexport default withStyles(styles, {\n  withTheme: true\n})(withRouter(connect(mapStateToProps, mapDispatchToProps)(React.memo(FuseLayout))));","map":{"version":3,"sources":["C:\\Users\\Roan\\Documents\\GitHub\\OnTimeReactFrontEnd\\src\\@fuse\\components\\FuseLayout\\FuseLayout.js"],"names":["React","Component","withStyles","FuseLayouts","_","withRouter","matchRoutes","bindActionCreators","connect","Actions","AppContext","generateSettings","styles","theme","root","backgroundColor","palette","background","default","color","text","primary","secondary","dark","padding","borderRadius","lineHeight","borderColor","divider","main","textDecoration","FuseLayout","props","context","routes","state","awaitRender","settings","classes","Layout","layout","style","pathname","location","matched","newSettings","route","routeSettings","defaultSettings","isEqual","setSettings","merge","resetSettings","mapDispatchToProps","dispatch","mapStateToProps","fuse","defaults","current","contextType","withTheme","memo"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {withStyles} from '@material-ui/core';\r\nimport {FuseLayouts} from '@fuse';\r\nimport _ from '@lodash';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {matchRoutes} from 'react-router-config'\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport * as Actions from 'app/store/actions';\r\nimport AppContext from 'app/AppContext';\r\nimport {generateSettings} from 'app/store/reducers/fuse/settings.reducer';\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        backgroundColor                   : theme.palette.background.default,\r\n        color                             : theme.palette.text.primary,\r\n        '& code:not([class*=\"language-\"])': {\r\n            color          : theme.palette.secondary.dark,\r\n            backgroundColor: '#F5F5F5',\r\n            padding        : '2px 3px',\r\n            borderRadius   : 2,\r\n            lineHeight     : 1.7\r\n        },\r\n        '& table.simple tbody tr td'      : {\r\n            borderColor: theme.palette.divider\r\n        },\r\n        '& table.simple thead tr th'      : {\r\n            borderColor: theme.palette.divider\r\n        },\r\n        '& a:not([role=button])'          : {\r\n            color         : theme.palette.secondary.main,\r\n            textDecoration: 'none',\r\n            '&:hover'     : {\r\n                textDecoration: 'underline'\r\n            }\r\n        },\r\n        '& [class^=\"border-\"]'            : {\r\n            borderColor: theme.palette.divider\r\n        },\r\n        '& [class*=\"border-\"]'            : {\r\n            borderColor: theme.palette.divider\r\n        }\r\n    }\r\n});\r\n\r\nclass FuseLayout extends Component {\r\n\r\n    constructor(props, context)\r\n    {\r\n        super(props);\r\n        const {routes} = context;\r\n\r\n        this.state = {\r\n            awaitRender: false,\r\n            routes\r\n        };\r\n    }\r\n\r\n    static getDerivedStateFromProps(props, state)\r\n    {\r\n        const {pathname} = props.location;\r\n        const matched = matchRoutes(state.routes, pathname)[0];\r\n        let newSettings = props.settings;\r\n\r\n        if ( state.pathname !== pathname )\r\n        {\r\n            if ( matched && matched.route.settings )\r\n            {\r\n                const routeSettings = matched.route.settings;\r\n\r\n                newSettings = generateSettings(props.defaultSettings, routeSettings);\r\n\r\n                if ( !_.isEqual(props.settings, newSettings) )\r\n                {\r\n                    props.setSettings(newSettings);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if ( !_.isEqual(props.settings, props.defaultSettings) )\r\n                {\r\n                    newSettings = _.merge({}, props.defaultSettings);\r\n\r\n                    props.resetSettings();\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            awaitRender: !_.isEqual(props.settings, newSettings),\r\n            pathname\r\n        }\r\n    }\r\n\r\n    render()\r\n    {\r\n        const {settings, classes} = this.props;\r\n        // console.warn('FuseLayout:: rendered');\r\n\r\n        const Layout = FuseLayouts[settings.layout.style];\r\n\r\n        return !this.state.awaitRender ? <Layout classes={{root: classes.root}} {...this.props}/> : null;\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch)\r\n{\r\n    return bindActionCreators({\r\n        setSettings  : Actions.setSettings,\r\n        resetSettings: Actions.resetSettings\r\n    }, dispatch);\r\n}\r\n\r\nfunction mapStateToProps({fuse})\r\n{\r\n    return {\r\n        defaultSettings: fuse.settings.defaults,\r\n        settings       : fuse.settings.current\r\n    }\r\n}\r\n\r\nFuseLayout.contextType = AppContext;\r\n\r\nexport default withStyles(styles, {withTheme: true})(withRouter(connect(mapStateToProps, mapDispatchToProps)(React.memo(FuseLayout))));\r\n"]},"metadata":{},"sourceType":"module"}